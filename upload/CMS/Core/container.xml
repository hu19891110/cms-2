<?xml version="1.0" ?>

<container xmlns="http://symfony-project.org/2.0/container">
    <services>
        <service id="pageService" class="Core\Service\Page">
            <argument type="service" id="doctrine" />
            <call method="setBlockService">
                <argument type="service" id="blockService" />
            </call>
            <call method="setDefaultForm">
                <argument>Core\Form\Page</argument>
            </call>
            <call method="setRouteService">
                <argument type="service" id="routeService" />
            </call>
            <call method="setAuth">
                <argument type="service" id="auth" />
            </call>
        </service>
        <service id="blockService" class="Core\Service\Block">
            <argument type="service" id="doctrine" />
            <call method="setModuleRegistry">
                <argument type="service" id="moduleRegistry" />
            </call>
        </service>
        <service id="routeService" class="Core\Service\Route">
            <argument type="service" id="doctrine" />
        </service>
        <service id="moduleRegistry" class="Core\Module\Registry">
        </service>
        <service id="pageRendererService" class="Core\Service\PageRenderer">
            <argument type="service" id="doctrine" />
            <call method="setBlockService">
                <argument type="service" id="blockService" />
            </call>
        </service>
        <service id="moduleService" class="Core\Service\Module">
            <argument type="service" id="doctrine" />
            <call method="setModuleRegistry">
                <argument type="service" id="moduleRegistry" />
            </call>
        </service>
        <service id="staticBlockService" class="Core\Service\Block\StaticBlock">
            <argument type="service" id="doctrine" />
            <call method="setModuleService">
                <argument type="service" id="moduleService" />
            </call>
        </service>
        <service id="metadataLoader" class="Core\Model\MetadataLoader">
            <call method="setRegistry">
                <argument type="service" id="moduleRegistry" />
            </call>
        </service>
        <service id="dynamicBlockService" class="Core\Service\Block\DynamicBlock">
            <argument type="service" id="doctrine" />
        </service>
        <service id="textService" class="Core\Service\Text">
            <argument type="service" id="doctrine" />
        </service>
        <service id="contentService" class="Core\Service\Content">
            <argument type="service" id="doctrine" />
        </service>
    </services>
</container>